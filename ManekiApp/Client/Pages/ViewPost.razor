@page "/post/{Id}"
@attribute [Authorize]

<PageTitle>Post</PageTitle>
<RadzenRow>
    <RadzenColumn Size="12" Visible="@(PostExists)">
        <RadzenStack Style="background-color: #eee6e6; padding: 20px; border-radius: 10px">
            <RadzenCard Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Start" Style="padding: 6px">
                
                <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.Start" AlignItems="AlignItems.Center" Style="background-color: rgba(225, 225, 225, 0)">
                    
                    <RadzenImage class="profile-image" Path="@( 
                                                                Author.ProfileImage != null ? 
                                                                $"data:image/jpeg;base64,{Author.ProfileImage}" :
                                                                $"https://ui-avatars.com/api/?name={Author.Title}"
                                                             )"  Style="width: 3.2rem; border-radius: 50%; height: 3.2rem"></RadzenImage>
                   
                    <RadzenStack Gap=5 Style="margin-right: 15px" JustifyContent="JustifyContent.SpaceEvenly">
                        <RadzenText TextStyle="TextStyle.Overline" class="rz-display-flex  rz-my-0" Style="font-size: 14px">@Author.Title</RadzenText>
                    </RadzenStack>
                </RadzenStack>

            </RadzenCard>

            <RadzenCard Style="position: relative">
                <RadzenText Text="@Post.CreatedAt.ToString("'Posted at' HH:mm MMMM dd")" TextStyle="TextStyle.Overline" TagName="TagName.Pre" />
                <RadzenText Text="@Post.Title" TextStyle="TextStyle.H4" TagName="TagName.H1" />
                <hr style="border: none; background-color: rgba(0,0,0,.2); height: 1px; margin: 1rem 0;" />
                <RadzenHtml>
                    @((MarkupString)Post.Content)
                </RadzenHtml>
            </RadzenCard>



        </RadzenStack>
    </RadzenColumn>
    
    <RadzenColumn Visible="@(!PostExists)">
        <NotFound></NotFound>
    </RadzenColumn>
</RadzenRow>
